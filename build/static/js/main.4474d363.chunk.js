(this["webpackJsonpreact-prebuilt"]=this["webpackJsonpreact-prebuilt"]||[]).push([[0],{29:function(e,n,t){},30:function(e,n,t){},32:function(e,n,t){},33:function(e,n,t){"use strict";t.r(n);var i=t(0),o=t.n(i),c=t(23),a=t.n(c),r=(t(29),t(12)),l=t(2),s=t(4),d=(t(30),t(3)),g=function(){var e=Object(i.useState)({meeting01:window.location.origin+"/meeting/01/counsellor/"+(new Date).toISOString(),meeting02:window.location.origin+"/meeting/01/patient/"+(new Date).toISOString(),meeting03:window.location.origin+"/meeting/02/counsellor/"+(new Date).toISOString(),meeting04:window.location.origin+"/meeting/02/patient/"+(new Date).toISOString()}),n=Object(s.a)(e,2),t=n[0];n[1];console.log(window.location.origin);var o=function(e){window.location.href=t[e]};return Object(d.jsxs)("div",{className:"dashboard-container",children:[Object(d.jsx)("h1",{children:"Dashboard"}),Object(d.jsxs)("div",{className:"meeting-cards",children:[Object(d.jsxs)("div",{className:"meeting-card",children:[Object(d.jsx)("h2",{children:"Meeting 01"}),Object(d.jsx)("p",{children:"Join as Counsellor"}),Object(d.jsx)("button",{onClick:function(){return o("meeting01")},children:"Join"})]}),Object(d.jsxs)("div",{className:"meeting-card",children:[Object(d.jsx)("h2",{children:"Meeting 01"}),Object(d.jsx)("p",{children:"Join "}),Object(d.jsx)("button",{onClick:function(){return o("meeting02")},children:"Join"})]}),Object(d.jsxs)("div",{className:"meeting-card",children:[Object(d.jsx)("h2",{children:"Meeting 02"}),Object(d.jsx)("p",{children:"Join as Counsellor"}),Object(d.jsx)("button",{onClick:function(){return o("meeting03")},children:"Join"})]}),Object(d.jsxs)("div",{className:"meeting-card",children:[Object(d.jsx)("h2",{children:"Meeting 02"}),Object(d.jsx)("p",{children:"Join"}),Object(d.jsx)("button",{onClick:function(){return o("meeting04")},children:"Join"})]})]})]})},j=t(24);function b(){var e=Object(l.p)(),n=e.id,t=e.user,o=e.time,c=Object(i.useState)(!1),a=Object(s.a)(c,2),r=a[0],g=a[1],b=Object(i.useState)(!1),m=Object(s.a)(b,2),u=m[0],h=m[1];return Object(i.useEffect)((function(){var e=t,i=(new Date).getTime(),c=new Date(o).getTime();if(console.log("current time: ",i),console.log("meeting time: ",c),i-c>=3e5)return console.log("Link has expired."),void(window.location.href=window.location.origin+"/link-expired");"doctor"===t?g(!0):h(!0);var a={name:e,meetingId:n,apiKey:"47d612ec-e0b3-46e4-9a43-0b889641551d",region:"sg001",containerId:null,redirectOnLeave:window.location.origin+"/",micEnabled:!1,webcamEnabled:!1,participantCanToggleSelfWebcam:!0,participantCanToggleSelfMic:!0,participantCanLeave:!0,chatEnabled:!0,screenShareEnabled:!0,pollEnabled:!1,whiteboardEnabled:!1,raiseHandEnabled:!0,layout:{type:"SPOTLIGHT",priority:"PIN"},branding:{enabled:!1,logoURL:"",name:"MindTalk",poweredBy:!1},permissions:{pin:!0,askToJoin:!1,toggleParticipantMic:!0,toggleParticipantWebcam:!0,toggleVirtualBackground:!0,drawOnWhiteboard:!1,toggleWhiteboard:!1,toggleRecording:!1,toggleLivestream:!1,removeParticipant:"doctor"===t,endMeeting:"doctor"===t,changeLayout:!0},waitingScreen:{imageUrl:"",text:"Connecting to the meeting..."},joinScreen:{visible:!0,title:"Medical Conference Room",meetingUrl:window.location.origin+"/meeting/"+n+"/"+t+"/"+o},leftScreen:{actionButton:{label:"DashBoard",href:window.location.origin+"/"},rejoinButtonEnabled:!1},theme:"DEFAULT",notificationSoundEnabled:!0,debug:!0,maxResolution:"sd"};(new j.VideoSDKMeeting).init(a);var l=null;if(console.log(r,u),r||u){var s=3e5+c-i,d=12e4+c-i;d>0&&(l=setTimeout((function(){r&&!u?(console.log("Patient ID:01, please join the meeting, Docotr is waiting"),alert("Sent A Reminder msg to Patient")):!r&&u&&(console.log("Doctor ID:01, please join the meeting, Patient is waiting"),alert("Sent A Reminder msg to Doctor"))}),d));var b=setTimeout((function(){window.location.reload()}),s);return function(){clearTimeout(l),clearTimeout(b)}}}),[n,t,o,r,u]),Object(d.jsx)("div",{})}t(32);var m=function(){return Object(d.jsxs)("div",{className:"link-expired-container",children:[Object(d.jsx)("h1",{children:"Meeting Expired"}),Object(d.jsx)("p",{children:"The Meeting Scheduled Has Expired."}),Object(d.jsx)(r.b,{to:"/",className:"home-btn",children:"Go to Home"})]})};var u=function(){return Object(d.jsx)(r.a,{children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/",element:Object(d.jsx)(g,{})}),Object(d.jsx)(l.a,{path:"/link-expired",element:Object(d.jsx)(m,{})}),Object(d.jsx)(l.a,{path:"/meeting/:id/:user/:time",element:Object(d.jsx)(b,{})})]})})},h=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,34)).then((function(n){var t=n.getCLS,i=n.getFID,o=n.getFCP,c=n.getLCP,a=n.getTTFB;t(e),i(e),o(e),c(e),a(e)}))};a.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(u,{})}),document.getElementById("root")),h()}},[[33,1,2]]]);
//# sourceMappingURL=main.4474d363.chunk.js.map